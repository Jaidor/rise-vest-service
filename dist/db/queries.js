"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.fetchUsersWithMostPostsAndComments = exports.addComments = exports.fetchAllPosts = exports.addPosts = exports.fetchUserByID = exports.fetchAllUsers = exports.getUserByUsername = exports.checkEmailExists = exports.addUser = void 0;
const addUser = () => "INSERT INTO users (username, firstname, lastname, email, password, created_at) VALUES($1, $2, $3, $4, $5, $6)";
exports.addUser = addUser;
const checkEmailExists = () => "SELECT s FROM users s WHERE s.email = $1";
exports.checkEmailExists = checkEmailExists;
const getUserByUsername = () => "SELECT * FROM users WHERE username = $1";
exports.getUserByUsername = getUserByUsername;
const fetchAllUsers = () => "SELECT id, username, firstname, lastname, email, created_at, updated_at FROM users";
exports.fetchAllUsers = fetchAllUsers;
const fetchUserByID = () => "SELECT id, username, firstname, lastname, email, created_at, updated_at FROM users WHERE id = $1";
exports.fetchUserByID = fetchUserByID;
const addPosts = () => "INSERT INTO posts (user_id, title, created_at) VALUES($1, $2, $3)";
exports.addPosts = addPosts;
const fetchAllPosts = () => "SELECT id, title, created_at, updated_at FROM posts";
exports.fetchAllPosts = fetchAllPosts;
const addComments = () => "INSERT INTO comments (posts_id, content, created_at) VALUES($1, $2, $3)";
exports.addComments = addComments;
const fetchUsersWithMostPostsAndComments = () => "SELECT users.id, users.username, posts.title, comments.content FROM users LEFT JOIN posts ON users.id = posts.user_id LEFT JOIN comments ON posts.id = comments.posts_id ORDER BY (SELECT COUNT(posts.id) FROM posts WHERE posts.user_id = users.id) desc LIMIT 3";
exports.fetchUsersWithMostPostsAndComments = fetchUsersWithMostPostsAndComments;
